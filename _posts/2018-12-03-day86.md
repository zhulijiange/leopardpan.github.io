---
layout: post
title: 'day86笔记-数据分析Numpy'
description: 数据分析
tag: 博客
---  
### 数据分析
    工具
      MATLAB
      Numpy + Scipy + Pandas + Matplotlib
      数值计算  科学应用  数据清洗  数据可视化

### Numpy概述
    1. Numpy是什么?
      1. 基于C语言和Python接口的数值算法库
      2. 开源免费
      3. 弥补了Python语言在数值计算方面的短板
      4. 作为常用科学计算工具的底层支撑
    2. Numpy的历史
      1. 1995年, Numeric作为Python语言数值计算扩展
      2. 2001年, Scipy项目, Numarray矢量化操作
      3. 2005年, Numeric + Numarray -> Numpy
      4. 2006年, Numpy脱离Scipy项目, 独立发布
    3. Numpy的性能
      1. 简化代码编写, 提高开发效率
      2. 通过优化底层实现, 提高运行速度

### Numpy基础
    1. 数组
      1. Numpy中的数组是ndarray类实例化的对象, 其中包括:
        实际数据: 数组的内容
        元数据: 对数组的描述
        大部分对数组的操作仅仅是对元数据的操作, 以此提高执行性能
      2. Numpy中的数组必须是同质的, 即所有元素的数据类型必须完全相同
      3. 通过基0的下标访问数组中的元素
      4. dtype和shape属性: 分别表示元素类型和维度
      5. 实例化
        np.arange(起始值, 终止值, 步长) -> [起始值,终止值)
        np.array(任何可被解释为数组的序列) -> 数组
      6. 类型转换
        数组.astype(目标类型) -> 转换后的新数组
    2. 多维数组和元素索引
      1. 数组的维度表示为一个元组: 其中的元素为从高维度数 -> 低维度数的顺序排列
        一维数组, 6个元素: (6,)
        二维数组, 2行3列: (2, 3)
        三维数组, 2页3行4列: (2, 3, 4)
      2. 通过下标运算符访问数组中的元素
        数组[页标][行标][列标]
        数组[页标,行标,列标]
    3. 数据类型
      存储形式, 处理方式
      1. 内置类型
        布尔型 bool_:True/False
        整型
          有符号: int8/int16/int32/int64
          无符号: uint8/uint16/uint32/uint64
        浮点型 float16/float32/float64
        复数型 complex64/complex128
        字符串型 str_
      2. 复合类型
        由多个相同或不同类型的字段组合而成的类型
        np.array(..., dtype=复合类型)
      3. 类型字符码
        bool_: ?
        有符号整型: i1/2/4/8
        无符号整型: u1/2/4/8
        浮点型: f2/4/8
        复数型: c8/16
        字符串型: U<字符数>
        日期时间型: M
        字节序(针对多字节整型): </>/[=] 小端/大端/[硬件]
    4. 切片
      数组[起始:终止:步长,起始:终止:步长,起始:终止:步长,...]
      默认起始: 首(正步长)/尾(负步长) 元素
      默认终止: 尾后(正步长)/首前(负步长)
      默认步长: 1
    5. 变维
      1. 视图变维: 元数据独立, 实际数据共享
        数组.reshape(新维度) -> 新数组
         \______________________/
                    |
                 元数据独立
                实际数据共享
        元素数和维度数必须匹配
        (8,) -> (2,4) ->(4,2) -> (2,2,2)
        数组.ravel() -> 一维数组
      2. 复制变维: 元数据独立, 实际数据独立
        数组.flatten() -> 一维数组
          \__________________/
                   |
                元数据独立
               实际数据独立
      3. 就地变维: 修改元数据的维度信息, 不产生新的数组
        数组.shape = 新维度
        数组.resize(新维度)
    6. 组合拆分
      1. 垂直组合: 沿着垂直方向组合两个小的同维度数组为一个大数组
        numpy.vstack((上, 下))
        numpy.concatenate((上, 下), axis=0)
        axis - 轴向, 用维度的下标表示
        shape -> (2, 4)
      2. 水平组合: 沿着水平方向组合两个小的同维度数组为一个大数组
        numpy.hstack((左, 右))
        numpy.concatenate((左, 右), axis=1)
      3. 深度组合: 沿着纵深方向组合两个小的同维度数组为一个大数组
        numpy.dstack((前, 后))
      4. 行组合: 以两个一维数组按照行的方式组合成一个二维数组
        numpy.row_stack((上, 下))
      5. 列组合: 以两个一维数组按照列的方式组合成一个二维数组
        numpy.column_stack((左, 右))
      6. 垂直拆分: 将一个大的数组沿着垂直方向拆分成若干小的同维数组
        numpy.vsplit(被拆分数组, 拆分份数)
        numpy.split(被拆分数组, 拆分份数, axis=0)
      7. 水平拆分: 将一个大的数组沿着水平方向拆分成若干小的同维数组
        numpy.hsplit(被拆分数组, 拆分份数)
        numpy.split(被拆分数组, 拆分份数, axis=1)
      8. 深度拆分: 将一个大的数组沿着纵深方向拆分成若干个小的同维数组
        numpy.dsplit(被拆分数组, 拆分份数)
    7. ndarray的属性
      dtype - 元素的数据类型
      shape - 数组的维度
      ndim - 数组的维度, len(shape)
      size - 数组的元素数, shape中元素相乘
      itemsize - 元素字节数, 与dtype相关
      nbytes - 总字节数, size * itemsize
      T - 转置视图
      real - 复数数组的实部视图
      imag - 复数数组的虚部视图
      flat - 扁平迭代器
    8. ndarray(列表) -> 数组
      数组.tolist() -> 列表

### 数据可视化(Matplotlib)
    1. 基本绘图
      plot(水平坐标, 垂直坐标)
